webpackJsonp([1],{0:function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(4);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** multi index\n ** module id = 0\n ** module chunks = 1\n **/\n//# sourceURL=webpack:///multi_index?")},4:function(module,exports,__webpack_require__){eval("\"use strict\";\n\n__webpack_require__(5);\n\n__webpack_require__(18);\n\nvar _vue = __webpack_require__(2);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _project = __webpack_require__(27);\n\nvar _project2 = _interopRequireDefault(_project);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar loadCss = function loadCss(url) {\n    var v = \"\";\n    var link = document.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url + v;\n    document.getElementsByTagName(\"head\")[0].appendChild(link);\n};\n\nif (false) {\n    loadCss(\"index.css\");\n} else {\n    __webpack_require__(33);\n}\n\nvar index = new _vue2.default({\n    el: 'body',\n    components: {\n        project: _project2.default\n    }\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./index.js\n ** module id = 4\n ** module chunks = 1\n **/\n//# sourceURL=webpack:///./index.js?")},27:function(module,exports,__webpack_require__){eval('var __vue_script__, __vue_template__\n__vue_script__ = __webpack_require__(28)\n__vue_template__ = __webpack_require__(32)\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === "function" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/project.vue\n ** module id = 27\n ** module chunks = 1\n **/\n//# sourceURL=webpack:///./components/project.vue?')},28:function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function($) {"use strict";\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _projectEdit = __webpack_require__(29);\n\nvar _projectEdit2 = _interopRequireDefault(_projectEdit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    data: function data() {\n        return {\n            projectStart: "/api/",\n            projects: [],\n            now: 0,\n            nowProject: {}\n        };\n    },\n\n    methods: {\n        init: function init() {\n            var P = this;\n            $.get("/umock/project/list").done(function (result) {\n                if (result.result == "ok") {\n                    P.projects = result.content;\n                }\n            });\n        }\n    },\n    ready: function ready() {\n        this.init();\n    },\n\n    components: {\n        projectEdit: _projectEdit2.default\n    }\n};\n// </script>\n\n/* generated by vue-loader */\n// <template>\n// <div>\n//     <div class="page-header">\n//         <h3>项目</h3>\n//     </div>\n//     <div class="">\n//         <!-- <ul class="list-group"> -->\n//             <!-- <li v-for="project in projects" role="presentation" v-bind:class="{ \'list-group-item\': true, \'active\': project.isPublic==\'1\'}">\n//                 <a href="project.html?id={{project._id}}"><h4>{{project.name}}</a>&nbsp;&nbsp;<span class="pointer glyphicon glyphicon-edit"  data-toggle="modal" data-target="#projectModal" data-id={{$index}} data-type="edit" aria-hidden="true"></span></h4>\n//                 <p class="list-group-item-text">{{project.beginPath}} （{{["个人测试","公共项目"][project.isPublic]}}）</p>\n//                 <p class="list-group-item-text">{{project.desc}}</p>\n//             </li> -->\n//             <div v-for="project in projects"  v-bind:class="{ \'alert\': true, \'alert-success\': project.isPublic==\'1\', \'alert-gray\': project.isPublic!=\'1\'}" role="alert">\n//               <h4><span class="label {{[\'label-primary\',\'label-success\'][project.isPublic]}}">{{project.beginPath}}</span>&nbsp;&nbsp;<a href="project.html?id={{project._id}}" class="alert-link">{{project.name}}-{{["个人测试","公共项目"][project.isPublic]}}</a>&nbsp;&nbsp;<span class="pointer glyphicon glyphicon-edit"  data-toggle="modal" data-target="#projectModal" data-id={{$index}} data-type="edit" aria-hidden="true"></span></h4></a>\n//                 <p>{{project.desc}}</p>\n//             </div>\n//         <!-- </ul> -->\n//     </div>\n//     <project-edit :projects="projects"></project-edit>\n//\n// </div>\n// </template>\n// <script>\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/alicia/Documents/develop/kil/~/babel-loader?{"presets":["/Users/alicia/Documents/develop/kil/~/babel-preset-es2015/index.js"],"plugins":[["/Users/alicia/Documents/develop/kil/~/babel-plugin-transform-runtime/lib/index.js"]],"cacheDirectory":true}!/Users/alicia/Documents/develop/kil/~/vue-loader/lib/selector.js?type=script&index=0!./components/project.vue\n ** module id = 28\n ** module chunks = 1\n **/\n//# sourceURL=webpack:///./components/project.vue?/Users/alicia/Documents/develop/kil/~/babel-loader?%7B%22presets%22:%5B%22/Users/alicia/Documents/develop/kil/~/babel-preset-es2015/index.js%22%5D,%22plugins%22:%5B%5B%22/Users/alicia/Documents/develop/kil/~/babel-plugin-transform-runtime/lib/index.js%22%5D%5D,%22cacheDirectory%22:true%7D!/Users/alicia/Documents/develop/kil/~/vue-loader/lib/selector.js?type=script&index=0')},29:function(module,exports,__webpack_require__){eval('var __vue_script__, __vue_template__\n__vue_script__ = __webpack_require__(30)\n__vue_template__ = __webpack_require__(31)\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === "function" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/projectEdit.vue\n ** module id = 29\n ** module chunks = 1\n **/\n//# sourceURL=webpack:///./components/projectEdit.vue?')},30:function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function($, Vue) {"use strict";\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n// <template>\n//     <div class="modal fade" id="projectModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">\n//         <div class="modal-dialog" role="document">\n//             <div class="modal-content">\n//                 <div class="modal-header">\n//                     <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n//                     <h4 class="modal-title" id="exampleModalLabel">项目</h4>\n//                 </div>\n//                 <div class="modal-body">\n//                     <div class="form-group">\n//                         <label for="recipient-name" class="control-label">项目名称:</label>\n//                         <input type="text" class="form-control" v-model="name">\n//                     </div>\n//                     <div class="form-group">\n//                         <label for="recipient-name" class="control-label">描述:</label>\n//                         <input type="text" class="form-control" v-model="desc">\n//                     </div>\n//                     <div class="form-group">\n//                         <label for="recipient-name" class="control-label">种类:</label>\n//                     </div>\n//                     <div class="form-group">\n//                         <label class="radio-inline">\n//                             <input type="radio" name="type" v-model="isPublic" value=1> 公共项目\n//                         </label>\n//                         <label class="radio-inline">\n//                             <input type="radio" name="type" v-model="isPublic" value=0> 个人测试\n//                         </label>\n//                     </div>\n//                     <div class="form-group">\n//                         <label for="recipient-name" class="control-label">前缀(每个项目用不同前缀区分):</label>\n//                         <input type="text" class="form-control" v-model="beginPath">\n//                     </div>\n//                     <div class="form-group">\n//                         <label for="recipient-name" class="control-label">反向代理地址:</label>\n//                         <input type="text" class="form-control" v-model="proxy">\n//                     </div>\n//                 </div>\n//                 <div class="modal-footer">\n//                     <button type="button" v-if="editing" class="btn btn-danger" id="editButton" v-on:click="delete">删除</button>\n//                     <button type="button" class="btn btn-primary" id="editButton" v-on:click="save">保存</button>\n//                     <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>\n//                 </div>\n//             </div>\n//         </div>\n//     </div>\n// </template>\n// <script>\nfunction valid(param) {\n    if (param.name === "" || param.beginPath === "" || param.proxy === "") {\n        alert("参数不全");\n        return false;\n    } else if (param.beginPath.indexOf("\\/") !== 0) {\n        alert("url必须以/开头");\n        return false;\n    } else if (param.beginPath.indexOf("/umock") != -1) {\n        alert("url不能以/umock开头，与现在的url冲突");\n        return false;\n    }\n    return true;\n}\n\nfunction emptyEdit(v_project) {\n    $.extend(v_project, getEmptyObject());\n}\n\nfunction getEmptyObject() {\n    return {\n        _id: "",\n        name: "",\n        desc: "",\n        beginPath: "",\n        isPublic: "1",\n        proxy: "",\n        editing: false\n    };\n}\n\nfunction model(toO, fromO) {\n    toO._id = fromO._id;\n    toO.name = fromO.name;\n    toO.beginPath = fromO.beginPath;\n    toO.isPublic = fromO.isPublic;\n    toO.desc = fromO.desc;\n    toO.proxy = fromO.proxy;\n}\n\nexports.default = {\n    props: [\'projects\'],\n    data: function data() {\n        return getEmptyObject();\n    },\n    ready: function ready() {\n        var v_project = this;\n        var projectModal = $(\'#projectModal\');\n        projectModal.on(\'shown.bs.modal\', function (event) {\n            var button = $(event.relatedTarget);\n            var type = button.data(\'type\');\n            if (type == "create") {\n                v_project.editing = false;\n            } else {\n                var num = button.data(\'id\');\n                v_project.editing = true;\n                v_project.num = num;\n                model(v_project, v_project.projects[num]);\n            }\n        }).on("hide.bs.modal", function () {\n            emptyEdit(v_project);\n        });\n    },\n\n    methods: {\n        save: function save(event) {\n            var vm = this;\n            Vue.nextTick(function () {\n                var param = {};\n                model(param, vm);\n                if (valid(param) === false) return false;\n                if (!vm.editing) {\n                    $.post("/umock/project", param).done(function (result) {\n                        if (result.result == "ok") {\n                            vm.projects.push(result.content);\n                            $(vm.$el).modal("hide");\n                        } else {\n                            alert("出错！");\n                        }\n                    });\n                } else {\n                    $.post("/umock/project/" + param._id, param).done(function (result) {\n                        if (result.result == "ok") {\n                            model(vm.projects[vm.num], param);\n                            $(vm.$el).modal("hide");\n                        } else {\n                            alert("出错！");\n                        }\n                    });\n                }\n            });\n        },\n        delete: function _delete() {\n            var vm = this;\n            if (!confirm("确定删除")) return;\n            $.ajax({\n                url: "/umock/project/" + vm._id,\n                type: "delete"\n            }).done(function (result) {\n                if (result.result == "ok") {\n                    window.location.reload();\n                } else {\n                    alert("出错！");\n                }\n            });\n        }\n    }\n};\n// </script>\n\n/* generated by vue-loader */\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1), __webpack_require__(2)))\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/alicia/Documents/develop/kil/~/babel-loader?{"presets":["/Users/alicia/Documents/develop/kil/~/babel-preset-es2015/index.js"],"plugins":[["/Users/alicia/Documents/develop/kil/~/babel-plugin-transform-runtime/lib/index.js"]],"cacheDirectory":true}!/Users/alicia/Documents/develop/kil/~/vue-loader/lib/selector.js?type=script&index=0!./components/projectEdit.vue\n ** module id = 30\n ** module chunks = 1\n **/\n//# sourceURL=webpack:///./components/projectEdit.vue?/Users/alicia/Documents/develop/kil/~/babel-loader?%7B%22presets%22:%5B%22/Users/alicia/Documents/develop/kil/~/babel-preset-es2015/index.js%22%5D,%22plugins%22:%5B%5B%22/Users/alicia/Documents/develop/kil/~/babel-plugin-transform-runtime/lib/index.js%22%5D%5D,%22cacheDirectory%22:true%7D!/Users/alicia/Documents/develop/kil/~/vue-loader/lib/selector.js?type=script&index=0')},31:function(module,exports){eval('module.exports = "<div class=\\"modal fade\\" id=projectModal tabindex=-1 role=dialog aria-labelledby=exampleModalLabel><div class=modal-dialog role=document><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=exampleModalLabel>项目</h4></div><div class=modal-body><div class=form-group><label for=recipient-name class=control-label>项目名称:</label><input type=text class=form-control v-model=name></div><div class=form-group><label for=recipient-name class=control-label>描述:</label><input type=text class=form-control v-model=desc></div><div class=form-group><label for=recipient-name class=control-label>种类:</label></div><div class=form-group><label class=radio-inline><input type=radio name=type v-model=isPublic value=1> 公共项目</label><label class=radio-inline><input type=radio name=type v-model=isPublic value=0> 个人测试</label></div><div class=form-group><label for=recipient-name class=control-label>前缀(每个项目用不同前缀区分):</label><input type=text class=form-control v-model=beginPath></div><div class=form-group><label for=recipient-name class=control-label>反向代理地址:</label><input type=text class=form-control v-model=proxy></div></div><div class=modal-footer><button type=button v-if=editing class=\\"btn btn-danger\\" id=editButton v-on:click=delete>删除</button> <button type=button class=\\"btn btn-primary\\" id=editButton v-on:click=save>保存</button> <button type=button class=\\"btn btn-default\\" data-dismiss=modal>关闭</button></div></div></div></div>";\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/alicia/Documents/develop/kil/~/vue-html-loader!/Users/alicia/Documents/develop/kil/~/vue-loader/lib/selector.js?type=template&index=0!./components/projectEdit.vue\n ** module id = 31\n ** module chunks = 1\n **/\n//# sourceURL=webpack:///./components/projectEdit.vue?/Users/alicia/Documents/develop/kil/~/vue-html-loader!/Users/alicia/Documents/develop/kil/~/vue-loader/lib/selector.js?type=template&index=0')},32:function(module,exports){eval('module.exports = "<div><div class=page-header><h3>项目</h3></div><div><div v-for=\\"project in projects\\" v-bind:class=\\"{ \'alert\': true, \'alert-success\': project.isPublic==\'1\', \'alert-gray\': project.isPublic!=\'1\'}\\" role=alert><h4><span class=\\"label {{[\'label-primary\',\'label-success\'][project.isPublic]}}\\">{{project.beginPath}}</span>&nbsp;&nbsp;<a href=\\"project.html?id={{project._id}}\\" class=alert-link>{{project.name}}-{{[\\"个人测试\\",\\"公共项目\\"][project.isPublic]}}</a>&nbsp;&nbsp;<span class=\\"pointer glyphicon glyphicon-edit\\" data-toggle=modal data-target=#projectModal data-id={{$index}} data-type=edit aria-hidden=true></span></h4><p>{{project.desc}}</p></div></div><project-edit :projects=projects></project-edit></div>";\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/alicia/Documents/develop/kil/~/vue-html-loader!/Users/alicia/Documents/develop/kil/~/vue-loader/lib/selector.js?type=template&index=0!./components/project.vue\n ** module id = 32\n ** module chunks = 1\n **/\n//# sourceURL=webpack:///./components/project.vue?/Users/alicia/Documents/develop/kil/~/vue-html-loader!/Users/alicia/Documents/develop/kil/~/vue-loader/lib/selector.js?type=template&index=0')}});